<!-- Using a strongly typed view -->

@model kits.ViewModels.CartIndexViewModel
@{
    ViewBag.Title = "Kits: Your Cart";
}
@if (Model.Cart.Products.Count == 0)
{
    <h2> Your cart is empty </h2>
    @Html.ActionLink("Continue shopping", "Index", "products", null, new { @class = "btn btn-primary" })
}
else
{

    <h2> Your cart </h2>
    <table class="col-lg-12">
        @foreach (var product in Model.Cart.Products)
        {
            <tr>
                <td>
                    <img src="~/images/placeholder.jpg" style="width:100px;" />
                </td>
                <td>
                    <h4>@Html.DisplayFor(modelItem => product.product_name)</h4>
                    <p>@Html.DisplayFor(modelItem => product.brand.name)</p>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => product.size.size_name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => product.product_price) DKK
                </td>
                <td style="text-align:right">
                    @using (Html.BeginForm("RemoveFromCart", "Cart"))
                    {
                        @Html.Hidden("ProductId", product.product_ID)
                        @Html.HiddenFor(x => x.ReturnUrl)
                        <input class="btn btn-sm btn-warning"
                               type="submit" value="Remove" />
                    }
                </td>
            </tr>
        }
    </table>

    <div style="text-align:right">
        <p>Total: @Model.Cart.TotalPrice.ToString("n") DKK</p>
        @Html.ActionLink("Continue shopping", "Index", "products", null, new { @class = "btn btn-primary" })
        @Html.ActionLink("Checkout", "Index", "CartCheckout", null, new { @class = "btn btn-success" })
    </div>
}
